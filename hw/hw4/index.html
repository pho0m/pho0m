<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <title>Pho0mZ Multiplication Table</title>

    <style>
      body {
        background: url("https://images.pexels.com/photos/3183198/pexels-photo-3183198.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1")
          no-repeat center;
        background-size: cover;
      }

      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
  </head>
  <body>
    <div
      class="container"
      style="background-color: rgba(255, 255, 255, 0.9); padding: 2%"
    >
      <script>
        document.write("<h2>Pho0m Generate Multiplication Table</h2>");
        document.write(
          ` <label style="padding-right: 10px">Please enter your number do you want to see multiplication table eg."12"</label>`
        );
      </script>
      <button class="btn btn-danger" onclick="valuePrompt()">Try it</button>

      <br /><br /><br />
      <div id="result" onclick="addRowHandlers();"></div>
    </div>

    <script>
      function multiplicationTable(num) {
        if (num == null || num == "")
          num = document.getElementById("number").value;

        var tableHead = `<thead ><tr><th colspan=5 style="text-align: center;">Your Multiplication is "${num}" </tr></thead>`;
        var textfield = `<input type="number" id="number" class="form-control"/>`;
        var button = `<input type="button" value="generate" onclick="multiplicationTable()" class="btn btn-danger" />`;

        let generate = `<div class="row g-2">` + textfield + button + `</div>`;

        var table;
        table =
          '<table class="table table-striped table-hover" id="tableId">' +
          tableHead;

        for (i = 1; i <= 12; i++) {
          table +=
            `<tr >` +
            `<td>${num}</td>` +
            `<td>*</td>` +
            `<td>${i}</td>` +
            "<td>=</td>" +
            `<td>${num * i}</td>` +
            "</td></tr>";
        }

        table += "</table>";
        table += generate;

        document.getElementById("result").innerHTML = table;
      }

      function addRowHandlers() {
        var table = document.getElementById("tableId");
        var rows = table.getElementsByTagName("tr");
        for (i = 0; i < rows.length; i++) {
          var currentRow = table.rows[i];
          var createClickHandler = function (row) {
            return function () {
              var cell = row.getElementsByTagName("td")[4];
              var id = cell.innerHTML;
              alert("Your result =" + id);
            };
          };
          currentRow.onclick = createClickHandler(currentRow);
        }
      }

      function valuePrompt() {
        let number = prompt("Please enter your number");

        if (number != null) {
          multiplicationTable(number);
        }
      }
    </script>
  </body>
</html>
